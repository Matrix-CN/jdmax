/*
活动名称：丝路奇遇寄
环境变量：jd_babel_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_babel_interval // 自定义运行间隔时长（整数，单位毫秒），默认500
        jd_babel_notify // 是否推送通知（true/false），默认不推送
        jd_babel_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:1 1 1 1 *

*/

const $ = new Env('丝路奇遇寄')
var iｉl='jsjiami.com.v7';const IIli1i=iii1II;(function(ll1iI,iI1lll,l1lIll,I1l1II,IIli1I,I1i11I,llIliI){return ll1iI=ll1iI>>0x3,I1i11I='hs',llIliI='hs',function(I1l1I1,I1i111,ilI1li,IIliI,ilI1ll){const ll1i1=iii1II;IIliI='tfi',I1i11I=IIliI+I1i11I,ilI1ll='up',llIliI+=ilI1ll,I1i11I=ilI1li(I1i11I),llIliI=ilI1li(llIliI),ilI1li=0x0;const Iillii=I1l1I1();while(!![]&&--I1l1II+I1i111){try{IIliI=parseInt(ll1i1(0x143,'gGzU'))/0x1*(-parseInt(ll1i1(0x149,'&]aH'))/0x2)+parseInt(ll1i1(0x194,'us#X'))/0x3*(-parseInt(ll1i1(0xdb,'h&77'))/0x4)+-parseInt(ll1i1(0xdc,'h&77'))/0x5+parseInt(ll1i1(0x162,'1!Cj'))/0x6*(-parseInt(ll1i1(0x16b,')ha6'))/0x7)+parseInt(ll1i1(0x11c,'jSLW'))/0x8+parseInt(ll1i1(0x17e,'KPV^'))/0x9*(-parseInt(ll1i1(0x184,'E77P'))/0xa)+parseInt(ll1i1(0xfc,'%xgH'))/0xb;}catch(IlI1iI){IIliI=ilI1li;}finally{ilI1ll=Iillii[I1i11I]();if(ll1iI<=I1l1II)ilI1li?IIli1I?IIliI=ilI1ll:IIli1I=ilI1ll:ilI1li=ilI1ll;else{if(ilI1li==IIli1I['replace'](/[HguwrIQhJSKROnyVFxlkL=]/g,'')){if(IIliI===I1i111){Iillii['un'+I1i11I](ilI1ll);break;}Iillii[llIliI](ilI1ll);}}}}}(l1lIll,iI1lll,function(Iillil,l1lIli,lIIiiI,II1lil,IIli1l,II1lii,lIIii1){return l1lIli='\x73\x70\x6c\x69\x74',Iillil=arguments[0x0],Iillil=Iillil[l1lIli](''),lIIiiI=`\x72\x65\x76\x65\x72\x73\x65`,Iillil=Iillil[lIIiiI]('\x76'),II1lil=`\x6a\x6f\x69\x6e`,(0x16a627,Iillil[II1lil](''));});}(0x610,0xedb79,Iii11l,0xc4),Iii11l)&&(iｉl=0x27c7);const jdCookie=require(IIli1i(0xf5,'eQ!A')),common=require(IIli1i(0x164,'jU9j')),notify=require(IIli1i(0x191,'u1PZ'));console['log'](''),console[IIli1i(0x107,'8)9&')](IIli1i(0x16f,'0lxF')+$[IIli1i(0xc7,'fO1L')]+IIli1i(0x17d,'UV%n')),console[IIli1i(0x173,'us#X')](IIli1i(0xcc,'8)9&')),console[IIli1i(0x10a,'h&77')](IIli1i(0xd7,'MX80')),console['log']('jd_babel_notify\x20//\x20是否通知(true/false)，默认不推送'),console[IIli1i(0xd6,'bQ42')](IIli1i(0x136,'s91s')),console['log'](IIli1i(0x192,'87#z')+$['name']+'提示结束============='),console['log']('');let taskThreads=process[IIli1i(0x183,'fO1L')][IIli1i(0x170,'*oW8')]||'1';function iii1II(_0x2e3896,_0x4d7f64){const _0x5e6b2a=Iii11l();return iii1II=function(_0x38d828,_0x5de987){_0x38d828=_0x38d828-0xc6;let _0x223578=_0x5e6b2a[_0x38d828];if(iii1II['krxCHH']===undefined){var _0xbd5f13=function(_0x4ca9f6){const _0x1fccb9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x25115e='',_0x1942a8='';for(let _0x3b9141=0x0,_0x5e9ce7,_0x606cb5,_0x29cf3b=0x0;_0x606cb5=_0x4ca9f6['charAt'](_0x29cf3b++);~_0x606cb5&&(_0x5e9ce7=_0x3b9141%0x4?_0x5e9ce7*0x40+_0x606cb5:_0x606cb5,_0x3b9141++%0x4)?_0x25115e+=String['fromCharCode'](0xff&_0x5e9ce7>>(-0x2*_0x3b9141&0x6)):0x0){_0x606cb5=_0x1fccb9['indexOf'](_0x606cb5);}for(let _0x4c6888=0x0,_0x58f8fb=_0x25115e['length'];_0x4c6888<_0x58f8fb;_0x4c6888++){_0x1942a8+='%'+('00'+_0x25115e['charCodeAt'](_0x4c6888)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1942a8);};const _0x7a10a1=function(_0x2263b0,_0xcd6265){let _0x1d769d=[],_0x33c66d=0x0,_0xb809e6,_0x15a6c5='';_0x2263b0=_0xbd5f13(_0x2263b0);let _0x18d4b3;for(_0x18d4b3=0x0;_0x18d4b3<0x100;_0x18d4b3++){_0x1d769d[_0x18d4b3]=_0x18d4b3;}for(_0x18d4b3=0x0;_0x18d4b3<0x100;_0x18d4b3++){_0x33c66d=(_0x33c66d+_0x1d769d[_0x18d4b3]+_0xcd6265['charCodeAt'](_0x18d4b3%_0xcd6265['length']))%0x100,_0xb809e6=_0x1d769d[_0x18d4b3],_0x1d769d[_0x18d4b3]=_0x1d769d[_0x33c66d],_0x1d769d[_0x33c66d]=_0xb809e6;}_0x18d4b3=0x0,_0x33c66d=0x0;for(let _0x24c8b1=0x0;_0x24c8b1<_0x2263b0['length'];_0x24c8b1++){_0x18d4b3=(_0x18d4b3+0x1)%0x100,_0x33c66d=(_0x33c66d+_0x1d769d[_0x18d4b3])%0x100,_0xb809e6=_0x1d769d[_0x18d4b3],_0x1d769d[_0x18d4b3]=_0x1d769d[_0x33c66d],_0x1d769d[_0x33c66d]=_0xb809e6,_0x15a6c5+=String['fromCharCode'](_0x2263b0['charCodeAt'](_0x24c8b1)^_0x1d769d[(_0x1d769d[_0x18d4b3]+_0x1d769d[_0x33c66d])%0x100]);}return _0x15a6c5;};iii1II['yxsOgv']=_0x7a10a1,_0x2e3896=arguments,iii1II['krxCHH']=!![];}const _0x26f63b=_0x5e6b2a[0x0],_0x147faf=_0x38d828+_0x26f63b,_0x1ce7ac=_0x2e3896[_0x147faf];return!_0x1ce7ac?(iii1II['ZnoDLM']===undefined&&(iii1II['ZnoDLM']=!![]),_0x223578=iii1II['yxsOgv'](_0x223578,_0x5de987),_0x2e3896[_0x147faf]=_0x223578):_0x223578=_0x1ce7ac,_0x223578;},iii1II(_0x2e3896,_0x4d7f64);}const runInterval=process[IIli1i(0x13f,'us#X')][IIli1i(0x141,'rZ98')]||IIli1i(0xff,'Esqc'),isNotify=(process[IIli1i(0xc6,'u1PZ')]['jd_babel_notify']||process['env'][IIli1i(0x11e,'SjY!')])==='true',pinFilter=(process[IIli1i(0x115,'eQ!A')][IIli1i(0x12a,'fO1L')]||'')[IIli1i(0x15b,'CJ#g')]('@');let cookiesArr=Object[IIli1i(0xf2,'*oW8')](jdCookie)['map'](i1lI=>jdCookie[i1lI])['filter'](IlI1l=>IlI1l);function Iii11l(){const IllIIi=(function(){return[...[iｉl,'LjskjlxiVKSamhQi.IwcIouHJmgFI.vOy7gxIrnR==','W4dcKCkLq8ksdX/cVv3cHCkXCf1Ara','lGSkWOhdUa','oGKnBq','WPiyWQBcVMJdPSox','vSkOrmowW5xcOG','nHixEmkwW6GCtmk/WRJdNaSdW59hBSkxWRddIKtdJ8kUjCkFBmooWOComgXya8oFWRZdOSkBa8ktnCk7mMvoW6BdJCoDt306WRdcOmoymqb6CKxcPCkXEtnicbPjALTfWRKWwG','gmk8WO8sW7m','W5iDcYZdUSkZ','W5VdOCkXW6GfhX4','W6ldLSoVWRddUNK','WO3dLSk/qSkrcG3dVgJcV8kKFvrmDXmEW6ZcKWGbW7BcNq','WRpcTYBdRXpdVwldUa','WRaRW48','FSojy8onya','WO8LsxRcRG','b1lcQSkZuG','5PAm5zk15BQH5PEN5O+Q','xuGfWQxcS8onjComW6ulW5ldRmkj','WOz6dCoysY7dISofWPqccJyeW7ldGeO','BmocACo0rW','WPVdIabZWOGI','zrhdJmkiWQ1kWOCuWR0KW6azfq','W407WQNdSSkwfWeXCtCZoSkFWOpdTmk9','W67dRNCxW7xdLeJdHhFdRmoiW4HGrq','W5CRWQNdOmkEgW','WPVdGCkY','W4iXWRFdP8kwbWaw','cgpcOSoH','WO/dLajcWOm0','WOOlDwdcJ8kzWPRcVmkcWQtcVq0','5RAR5yIl5BwZ57IM5P+l5OIl5lIy5A2x5zYq','D8oknxq','W4P5WOVcG3O','W7Hrsg7cR8kZWOZdQq','W6XBWQNcONL4W5hcK8kCwmkzpY/dQICKBSogdCooWOi','5y+86yss6k+E5PQDWOBdU8khD3ePWR92WQTosbyH','W7HxlYxcQmkeWOpdS8kyWPW','mWCxA8kn','hCony1m','CSk8W4H4sG','gCklWRO1','W6DqWRO','WR7cVtTLWQRdNu3dPMpdGSo5','hmoEzv1J','W4RdUYxdGbC','s8ksW7DUBSkpW5e','WPldGCkWw8kHcZ3cOa','oqmxqSkGWPe','6lEl5y2z5Psz5PEN','bZmLrCkk','jCojWOhcGSknWQH9','WQfWWO/dVdFdLvbLASovfmory3DJ','e8ooWPFcLSkw','ncezW5vCgG','daldLwlcKx/cLJddLdS','W7VdGSkTWQxcRSo3W6ZcSmoQWOJcQCkPymkUW4pcImo5WO9hWRNcKmoquxBcTmknWOq','WRddHSoBgrSiWOqlmCorW5DSpq','ib7dJCkIeLNcLCkiW6rOW6pdTmkYW5FdUG','W4BcM8kgySkLW5tdRSkV','W5BdTta','mGKetCkxWQa','sSkEW7NcHtS','5Rsa5yMq5yEz5yYSqSoq','WRdcG8kU','W6XFWQhcOW','oH4sWQxdQsVcO8ozWQHC','W5JdP8k/WOdcPmk9WONcQW','DCkrl8kYWRWwoCoTDxlcTNdcK0JcRW','WOj3gSodrdFdISoSWRmFda','WPFdHtnLWOWYW6tdHmkjgSo3b8kkW5/dNSkBWPVdMYNdV+AmS+wjQUw4R+woIoE4MEEQU+AuI++9GEM7QoIUSCoq776X5P6b5AAbW4JcVa'],...(function(){return[...['pCkmW6pdU8oeiujEW4W','W53dVrBdTJ8','WPdcM3ZdUMTWfb18W4BcUq','WPidDSoXW5JdH8o4pG','v8k8r8o2WPBcQCoiiYT9W6W','mYesW4ife1XoWRfm','xmk1t8oGW5G','WPhdH8k7ECkmW7ZdTq','W5CTWPNdVCkhasKUsq','xSkRsa','W58CiatdNSksuWpdGSo+WPhdL0PxWP1jm8oqESkMW4VOHitLRQNKUAtOVRVOOQNPLARPMRhMLRJPLjBVVRxPU4pORBJdOYr5','CCkCnmkuWR8ynG','D8kAnmkUWQawlmo6r1/cRq','WOrXamo/CW','gIWjeHBdQGbIlZRdHqW','gISdhrRdQ0ngfHFdJGlcGa','W57cN8k1suG','D+kCRWy','W77dGSoSWPa','WRtcTd3dLtC','WRKsW6NdJmom','nZ4rW4nB','5REy5yQ85zgJ56wA77YO','W4FcN8oNk8ouWQxcUSoGWPmTkCk3y8oxv1BcIxJcV8ouW5LcW7hcOCkZWRtcLComWR/dNJ/dP8ovdCk9rW','m8oPxW','zSklkCk9WRmRiCoZDW','4P2zW6tMN57NN6ROROtMS6uC','C8kTWOW','F8oejG','W4/cLSkT','W6xdSCoXWQ3dKa','oYWyW4Dcg1fjWQb2WPJdVCoPAeG','rCkLrMS','EpcxS4VdNUI9VEIGOUE6ToACRmkH','hKDgWPNdMqy','Aa3cT2rO','W4iTWOtdV8kf','W4W6WO/dOW','dW/dPhRcUq','xSoqjCkzbmkuWR/MLkVMLklMIl3LTltOVl3MNz3VVO/LJP/LMOBVVBi','u8ofWQqWW5XwlxpcUSkJ','W57dUYpdKG','i8oYi8kco8kuWRFcRG','brzwW7VdSCkyDCoW','vmknW4JcIrtcKuK','WQxcMmkRWRK','nSosW6fNW4FdVa','W4BcP8oUla1OW6WiB8k5W70vgr0','44oN5O2+56EV44cj6kYx5yEy6iY75yYbW6H7j8k+ACow','WQpcSq7dNGO','WPfNW54','WPBcVr7dUHi','wEITM+AXLEwtV+w6HCk5','lrqv','ySoEjgFcNCoooffZWRlcVNjhhSomWQDlWPpdUa','WRiHW43dRSoYc8ket3uIWRNdPIZdKqKFvKbBW6bC','pHOsWOVdPa','WPFdOmkzCLi','WPhdJGS','W41/WOtcJhG','WPJdLY9OWOmKW6tdHSkI','t3vC','WPxdGCkHBmkpW73dMmkYW5nG','WOZdJCknW4yzbHNcHfxcPSkt','nmoBsCofsLu6W78fDhTmrCoCAG','WPRdJ8kqW5S','oshdS3pcRG','sSoLdNdcRq','ACkHW55PFG','W5WwhaRdISkuuXW','WPRdHbHlWOi3W6JdHSkfgSo+aCkAW40','aaZdJhm'],...(function(){return['gmkeWRG','n8o7jCkdbCkuWRVcPq10WRhcKIFdPMW','W6FcN8k5','nCohW7LiW5S','aSojWOtdUuZdIrSem8oQiSoDFa','jSowW7XzW5BdNr3cKW','m8oPi8kgq8oDWR7cRGXhWQFcJIFcRYaegG','Av5Bp8ovW6idgSk4WRJdLMa4','WPZcKwy','FmkDh8kLWRCDpCoVtwpcRMZcN0VcUG','WRRdG8oEeXyfWOLpE8kEWO8uvG','nWGazmkqWRzwea','W77dG8k6WRBcOW','wSkyW7rO','voA1NEwlI+wLNUwqPo+/IdK','hmo6vNr9','fISmWPZdHW','WRRcH8kYWPdcIa','WPqefHjl','W5BdQCkLWOdcMa','jeBcVSkX','W6HAWPpcPeP/W5NcKmk1tCkZpGBdQci1qSoA','n8kwWQhdNSovo3WaW6H2WO7cRM5CW6SBrmoUW6WBtt5fW5xdHCkNWOpcGfO2jmoVACkeCtFcPSkfv8oLx8kTW7xdSIy','tMLC','r15ir1W','4P63tEACV+IbOoAVJUEJJEwMMEErIYy','WO7dLa9KWOGJW7i','W4tcNmk+F8kwcHFcVv/cMCkPDKXArG0','dowSREEjJ8oT','WPTwWOxdTre','W6NMTk/LI4BLP7ZLK7pVVytcTa','nIFdKfVcRW','ESkwjW','WRLXWQpdRJNdMuzSEmoadSomrhLQWRunW5/dIKNcG8oG6lA95yYjzqtdQUI8V+A7SU+/LUwNJEs6RoEwOGJOV7xOOydLIk7LIRu','ESofmNdcLSoP','4P+fWQVOHjNMNBJOVyROO7FPGAtLIP3KUPtPLQpORyBcRG','qmkXqvRdQZi','W6xdPgq','WOZcU8kYWQtcHG','aXZdTf7cUW','ralcLxTKzWldVa','kISHwSkG','WPldGmkJ','y8o3jIpdJq','e8oisfbWW7SVAmkKW4NdI8k+W4FcNCkKE8o5','r8k1rCoMW5hcR8oBjcTlW7uJW7mwgq','W5iTxmkAagFdSCoHWRaCbtK','WOe+jbv3WPFcUKGfFHqTdCkliW','FSkYW5i','WOVcQMFcGuxdLZyjACoHWPFdUve','rCkQs8oHW5/cLCovpZ53W6C','4PU4zoIgNEwSQos5OEI+OUIHVoMxK+MzK+AxN+MwKoISQ+E/OUMuLoIVIW','W7xdRJxdTH7dUuZdRG','vSoCbqW','abDs','oqmxrCkaWQfaaSkOWQ8','xSkTBeNdOG','WP4KmIj9WOhcPG','W6pdI8oOWPddUhLhAKVdM8oCiG','cConzuf0','daldJNRcM3pcRa','W65rWQS','qoAvL+AoVEAFVUIoREwmI+AkHUwlSU++SUITIUAIIUADQUE+TUE4UEAyPEwrSUASQ+w4S++9QCoPBMT0WQJdG+AAJ+wtToACGoAxLq','W5NdTtNdLrVcGq','W5FdPSov','W6xdRM0ZW67dKW','8kIlKey','xCkPkSkZWP0','jJ12'];}())];}())];}());Iii11l=function(){return IllIIi;};return Iii11l();};!cookiesArr[0x0]&&($[IIli1i(0x12c,'h&77')]($[IIli1i(0xdf,'p9*W')],IIli1i(0xfd,'us#X')),process['exit'](0x1));!(async()=>{const I1iIi1=IIli1i,lilIil={'gqCgl':function(i1l11){return i1l11();}};notify[I1iIi1(0x154,'Opuj')]({'title':$[I1iIi1(0xdf,'p9*W')]}),await lilIil[I1iIi1(0x106,'%xgH')](Main),isNotify&&notify[I1iIi1(0xc8,'CJ#g')]()&&await notify['push']();})()[IIli1i(0x105,'CJ#g')](i1l1li=>$[IIli1i(0x196,'jSLW')](i1l1li))[IIli1i(0xd4,'us#X')](()=>$[IIli1i(0x15c,'jSLW')]());async function Main(){const lliil1=IIli1i,i1ilii={'ggAEM':function(iIIII1,i1l1ll){return iIIII1!==i1l1ll;},'Lmzyw':function(I1iIiI,li1I1){return I1iIiI(li1I1);},'PVXru':function(i1ilil,lilIii){return i1ilil>=lilIii;},'KKNcA':lliil1(0xe4,'us#X'),'RkQaU':lliil1(0x15f,'jSLW'),'FARnD':function(i1ill1){return i1ill1();},'XJqMQ':function(iIIl1l,llIli1){return iIIl1l<llIli1;},'OAHJS':function(iliIII,iIIl1i){return iliIII===iIIl1i;},'GIWVw':'谢谢参与','uRpXD':function(I1lllI,ill111){return I1lllI-ill111;},'tMBRE':function(Iliil1,i1III){return Iliil1>i1III;},'MxCmh':lliil1(0xde,'Isr)')};try{try{const Ii1iIl=parseInt(taskThreads);Ii1iIl>0x0&&i1ilii[lliil1(0xfe,'&]aH')](Ii1iIl,0x1)&&(taskThreads=Ii1iIl);}catch{taskThreads=0x1;}taskThreads=Math[lliil1(0x11d,'#$Fs')](taskThreads,0xa),$['waitTime']=null;if(runInterval)try{const iliIIi=i1ilii['Lmzyw'](parseInt,runInterval);i1ilii[lliil1(0x111,'0U67')](iliIIi,0x0)&&($[lliil1(0x11a,'k*i#')]=iliIIi);}catch{console['log'](lliil1(0x148,'D3@2'));}const Ii1iIi=lliil1(0x117,'87#z')+common['genRandomString'](0xd,i1ilii[lliil1(0x181,'0U67')]);$['UA']=common[lliil1(0x16d,'21XK')](Ii1iIi),$[lliil1(0x159,')ha6')]=common[lliil1(0x161,'MX80')](Ii1iIi),$[lliil1(0xe5,'rZ98')]=common['getJEH'](),$[lliil1(0x10c,'1!Cj')]=i1ilii[lliil1(0x100,'&]aH')],console[lliil1(0x152,'fO1L')](lliil1(0x198,'B[98')+$[lliil1(0xcb,'gGzU')]),await i1ilii[lliil1(0x168,'KPV^')](lotteryGuaGuaLe);if(!$[lliil1(0x116,'x3pr')])return;if($[lliil1(0x142,'UV%n')]){let ill11I='';for(let Iliiil=0x0;i1ilii[lliil1(0x134,'N7w$')](Iliiil,$[lliil1(0xec,'D3@2')]['prizeList']['length']);Iliiil++){const li1Il=$[lliil1(0x116,'x3pr')]['prizeList'][Iliiil],li1Ii=li1Il['prizeName'],Iliiii=li1Il[lliil1(0xe6,'SjY!')];if(i1ilii['OAHJS'](Iliiii,0x0)){ill11I+=i1ilii['GIWVw'];break;}else ill11I+=''+li1Ii+(i1ilii[lliil1(0x108,'fO1L')](Iliiii,0xa)?lliil1(0x131,'Isr)'):''),i1ilii[lliil1(0xce,'Opuj')](Iliiil,i1ilii[lliil1(0xeb,'p9*W')]($[lliil1(0xca,'SjY!')]['prizeList'][lliil1(0xef,'gT7Y')],0x1))&&(ill11I+='，');}console[lliil1(0xd6,'bQ42')]('\x0a活动名称：'+$[lliil1(0x114,'N7w$')]+lliil1(0x133,'gGzU')+ill11I),notify['appendContent'](lliil1(0xe3,'gGzU')+$[lliil1(0x129,'Rh1v')]+lliil1(0x123,'jSLW')+ill11I);}console[lliil1(0xea,'jU9j')](''),$['needRemoveCookieIndex']=[],await common[lliil1(0xc9,'%pL6')](taskThreads,cookiesArr,taskFnc),$[lliil1(0x139,'bQ42')]=![];i1ilii[lliil1(0x13e,'jSLW')]($[lliil1(0x17c,'fO1L')][lliil1(0x18f,'D3@2')],0x0)&&(cookiesArr=cookiesArr[lliil1(0x16e,'8)9&')]((i1illI,i1IIl)=>!$['needRemoveCookieIndex'][lliil1(0x112,'MX80')](i1IIl+0x1)),$['needRemoveCookieIndex']=[]);const iliIIl=notify[lliil1(0x14c,'jSLW')]();iliIIl&&(console[lliil1(0x166,'&%)*')](lliil1(0xee,'gT7Y')+iliIIl[lliil1(0x18c,'0$aB')](/：/g,i1ilii[lliil1(0xf0,'TH[f')])),isNotify&&await notify['push']());}catch(I1lll1){console[lliil1(0x107,'8)9&')](lliil1(0x138,'E77P')+I1lll1);}}async function taskFnc(i1IIi,IIII1I){const IIllI=IIli1i,Iii111={'eVAFl':'babelGetLottery','abElG':function(IIII11,i1illi){return IIII11==i1illi;},'YNOeI':function(i1illl,I1llil){return i1illl==I1llil;},'pbrNp':function(I1llii,lilIll){return I1llii>lilIll;},'KPjtK':function(l1i111,iliII1){return l1i111(iliII1);},'xhesc':IIllI(0x175,'0lxF'),'dpleY':'Babel_ScratchTicket','EKkUS':IIllI(0x11b,'x3pr'),'MKivb':IIllI(0x12b,'Hu0T'),'dDslr':IIllI(0xd2,'D3@2'),'Dbfxz':'application/x-www-form-urlencoded','WLReP':'api.m.jd.com','HCyyI':'https://api.m.jd.com','MuygH':'h5_1.0.0','SADxX':'empty','undlf':IIllI(0x122,'0U67'),'mqUHE':IIllI(0xd1,'UV%n'),'qfEJC':function(II11I1,Iii11I){return II11I1===Iii11I;},'QOXDm':IIllI(0x155,'p9*W'),'YUFMo':IIllI(0x177,'KPV^'),'avyhr':function(Iil1II,iIIl1I){return Iil1II<iIIl1I;},'ojjAO':function(I1iIli,lI1Ill){return I1iIli>=lI1Ill;},'YVjuA':IIllI(0x172,'*oW8'),'QJWNs':IIllI(0x151,'N7w$')};if($['runEnd'])return{'runEnd':!![]};const l1l1II=Iii111[IIllI(0x125,'CJ#g')](decodeURIComponent,common[IIllI(0x171,'E77P')](i1IIi,Iii111[IIllI(0x13b,'u1PZ')])),Iil1I1='【账号'+IIII1I+'】'+l1l1II+'：',Ii1iII=notify['create'](IIII1I,l1l1II);if(pinFilter[IIllI(0x156,'E77P')]>0x0&&(pinFilter[IIllI(0xd0,'7n5V')](l1l1II)||pinFilter[IIllI(0xf8,')ha6')](encodeURIComponent(l1l1II)))){Ii1iII[IIllI(0xe8,'oM9t')]('已设置跳过运行当前账号'),console[IIllI(0xea,'jU9j')](Ii1iII[IIllI(0x130,'jU9j')]()),$['needRemoveCookieIndex']['push'](IIII1I);return;}const l1i11I=await common[IIllI(0x113,'8)9&')](i1IIi);if(!l1i11I&&typeof l1i11I===Iii111[IIllI(0x140,'SarM')]){console[IIllI(0x14b,')ha6')](Iil1I1+IIllI(0x18a,'1!Cj')),$[IIllI(0x104,'&%)*')][IIllI(0xfa,'u1PZ')](IIII1I);return;}const II11II=common[IIllI(0xda,'gGzU')](l1l1II),Ii1iI1=common[IIllI(0x189,'jSLW')](l1l1II),lilIli=common[IIllI(0xfb,'k*i#')]();if($[IIllI(0x163,'p9*W')])return{'runEnd':!![]};await Iliill(Iii111['eVAFl']);if($['runEnd'])return{'runEnd':!![]};if($[IIllI(0xf7,'x3pr')])await $[IIllI(0x10e,'1!Cj')]($[IIllI(0x165,'&]aH')]);async function Iliili(lI1Ili,IliilI){const lliilI=IIllI;try{switch(lI1Ili){case Iii111['eVAFl']:if(Iii111[lliilI(0xf3,'N7w$')](IliilI['code'],0x0)&&Iii111[lliilI(0x110,'IfFS')](IliilI[lliilI(0x14e,'d]QZ')],0x0)){let i1II1=IliilI?.['prizeName']||IliilI?.[lliilI(0xd5,'*oW8')]||'';console[lliilI(0xe9,'IfFS')](''+Iil1I1+i1II1),Ii1iII[lliilI(0x137,'IfFS')](i1II1);let iIIl11=IliilI?.['chances']||0x0;Iii111[lliilI(0xe0,'&]aH')](iIIl11,0x0)&&await Iii111[lliilI(0x158,'SjY!')](Iliill,Iii111[lliilI(0x124,'rZ98')]);}else{let l1l1I1=IliilI?.[lliilI(0x18d,'s91s')]||IliilI?.[lliilI(0xcd,'Hu0T')]||'';console[lliilI(0x13a,'E77P')](''+Iil1I1+l1l1I1);}break;}}catch(I1iIll){console[lliilI(0x135,'SjY!')](lliilI(0x12e,'7n5V')+lI1Ili+lliilI(0x101,'rZ98')+(I1iIll['message']||I1iIll));}}async function Iliill(I1lliI){const lili1=IIllI;if($[lili1(0x15e,'UV%n')])return;let llIllI='',I1ilI1=null,iillll=null,lIIilI=Iii111[lili1(0xd3,'UV%n')];switch(I1lliI){case Iii111[lili1(0xe1,'&%)*')]:llIllI='https://api.m.jd.com/client.action',iillll={'functionId':Iii111[lili1(0x160,'eQ!A')]},signParams={'authType':'2','enAwardK':$['choujiang_wheel']?.[lili1(0x174,'*oW8')],'awardSource':$['choujiang_wheel']?.[lili1(0x147,'UV%n')],'encryptProjectId':$['choujiang_wheel']?.[lili1(0x16c,'gGzU')],'encryptAssignmentId':$[lili1(0x10d,'Isr)')]?.['encryptAssignmentId'],'srv':$[lili1(0x193,'Za2H')]?.[lili1(0x102,'jSLW')],'lotteryCode':$['choujiang_wheel']?.[lili1(0x13d,'TH[f')],'riskParam':{'eid':'','shshshfpb':'','pageClickKey':Iii111[lili1(0x118,'k*i#')],'childActivityUrl':$[lili1(0xcf,'#$Fs')]}},I1ilI1=common[lili1(0x103,'IfFS')](await common[lili1(0xd8,'SjY!')](Iii111['eVAFl'],signParams));break;default:console[lili1(0x195,'Opuj')](lili1(0xe7,'oM9t')+I1lliI);return;}const II1li1={'url':llIllI,'method':lIIilI,'headers':{'Accept':'application/json,\x20text/plain,\x20*/*','Accept-Encoding':Iii111[lili1(0x121,'%pL6')],'Accept-Language':Iii111['MKivb'],'Connection':Iii111[lili1(0x12d,'h&77')],'Content-Type':Iii111[lili1(0x18e,'0$aB')],'J-E-H':lilIli,'J-E-C':Ii1iI1,'Host':Iii111[lili1(0x10f,'N7w$')],'Cookie':i1IIi,'Origin':Iii111[lili1(0x132,'s91s')],'x-rp-client':Iii111[lili1(0x169,'Rh1v')],'Sec-Fetch-Dest':Iii111['SADxX'],'Sec-Fetch-Mode':Iii111[lili1(0x167,'21XK')],'Sec-Fetch-Site':Iii111[lili1(0x13c,'N7w$')],'User-Agent':II11II},'params':iillll,'data':I1ilI1,'timeout':0x7530};Iii111[lili1(0x197,'B[98')](lIIilI,Iii111['QOXDm'])&&(delete II1li1[lili1(0x179,'IfFS')],delete II1li1['headers'][Iii111[lili1(0x18b,'jSLW')]]);const l1lIlI=0x1;let IiiIl1=0x0,lIIil1=null,IIli1=![];while(Iii111['avyhr'](IiiIl1,l1lIlI)){const II1liI=await common[lili1(0x187,'0U67')](II1li1);if(!II1liI[lili1(0x12f,'8)9&')]){lIIil1='🚫\x20'+I1lliI+'\x20请求失败\x20➜\x20'+II1liI[lili1(0xf1,'*oW8')],IiiIl1++;continue;}if(!II1liI[lili1(0xf6,'Opuj')]){lIIil1=lili1(0x157,'CJ#g')+I1lliI+'\x20请求失败\x20➜\x20无响应数据',IiiIl1++;continue;}Iliili(I1lliI,II1liI[lili1(0x180,'rZ98')]),IIli1=![];break;}Iii111[lili1(0x126,'u1PZ')](IiiIl1,l1lIlI)&&(console['log'](lIIil1),IIli1&&($[lili1(0xf9,'B[98')]=!![]));}}async function lotteryGuaGuaLe(){const ll1l1=IIli1i,IlI1i1={'ozfqs':ll1l1(0x145,'0U67'),'liCVg':function(Illl1i,lIIiil){return Illl1i<lIIiil;},'SdSmn':function(l1lIii,I11iI1){return l1lIii>I11iI1;},'HGGEQ':ll1l1(0x178,'p9*W'),'yUFsY':function(l1lIil,IiiIli){return l1lIil>=IiiIli;}},l1lIl1={'url':$[ll1l1(0xd9,'SjY!')],'method':IlI1i1[ll1l1(0xe2,'D3@2')],'headers':{'Cookie':cookiesArr[0x1],'User-Agent':$['UA']},'timeout':0x7530},IiiIlI=0x5;let Iilli1=0x0,I1l1Il=null,llIll1=![];while(IlI1i1[ll1l1(0x14d,'bQ42')](Iilli1,IiiIlI)){IlI1i1[ll1l1(0xdd,'87#z')](Iilli1,0x0)&&await $[ll1l1(0xed,'bQ42')](0x3e8);const iillli=await common['request'](l1lIl1);if(!iillli['success']){I1l1Il=''+iillli[ll1l1(0x185,'rZ98')],Iilli1++;iillli['status']&&([0x193,0x1ed][ll1l1(0x120,'jSLW')](iillli['status'])&&(llIll1=!![]));continue;}if(!iillli['data']){I1l1Il=ll1l1(0x16a,')ha6'),Iilli1++;continue;}iillli[ll1l1(0x182,'eQ!A')][ll1l1(0x128,'%pL6')](/(活动已经结束)/)&&iillli[ll1l1(0x179,'IfFS')][ll1l1(0x17f,'jSLW')](/(活动已经结束)/)[0x1]&&($[ll1l1(0x176,'8)9&')]=!![],console['log'](IlI1i1[ll1l1(0x17a,'fO1L')]));let I1l1Ii=iillli[ll1l1(0x14a,'SarM')]?.['match'](/__api_data__ *= *(\{.*?\});/);if(!I1l1Ii){I1l1Il=ll1l1(0x153,'Rh1v'),Iilli1++;continue;}if(I1l1Ii){let I1i11i=JSON[ll1l1(0x150,'rZ98')](I1l1Ii[0x1]);for(let I1i11l of I1i11i?.['floorList']||[]){if(I1i11l?.['lotteryGuaGuaLe']){$[ll1l1(0x15a,'jU9j')]=I1i11l?.[ll1l1(0x144,'d]QZ')];break;}}if(!$['choujiang_wheel']){var Illl1l=JSON[ll1l1(0x186,'Opuj')](I1i11i[ll1l1(0x14f,'p9*W')][ll1l1(0x109,'8)9&')]);Illl1l&&Illl1l[ll1l1(0x10b,'us#X')]&&(title=Illl1l['title'],bottomText=Illl1l[ll1l1(0x190,'N7w$')]);I1l1Il=ll1l1(0xf4,'x3pr')+title+'\x20||\x20'+bottomText,Iilli1++;continue;}}break;}IlI1i1[ll1l1(0x127,'d]QZ')](Iilli1,IiiIlI)&&(console[ll1l1(0x13a,'E77P')](I1l1Il),llIll1&&($['outFlag']=!![]));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
