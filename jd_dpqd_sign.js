/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号，@，&，换行分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动，签到后如有奖品则自动到账


cron:1 1 1 1 *

*/

const $ = new Env('批量店铺签到')
var iｉl='jsjiami.com.v7';const iI1111=iii1II;function Iii11l(){const IiiIi=(function(){return[...[iｉl,'QnjLsYljqkiYaXwmhNxi.IRcuwEounmDdd.vBe7r==','W6eRW68','m8kWxdtcJG','hCkGmmok','W6OwWQu+','W74XW6VcGCoqlLG','W5pdKH48','kmkWAJ8','imohkCkG','n8kyW44iWPhdPSkJasFdHa','WQGqFv9LWPK7rCocDsOhCfBcKfeRvgxdSCoAW6y/W6JMJQhLIBVNRktLIiJLU47LJlBVV7/PUQFORkddOW','4PMxw+IhQUwVGEs5QEI+REIGKUMxMoMzMoAvO+MxHEISOEE/UEMwToIUUq','WPLaWOZdH8os','nhZcSmk1W6W','W7/cUCk1CZeGuW','WOdcTwG','gflcISkAW5zmWPqIdSofW7JdV8kQW6ZcPmkfq8kqWQVdV8oXWPRdUG','fXNdSY8','vCkHW5Xqq8ofWOdcTdNcMqPSlmossXG','jepcSCoLWRO2WPy','W5WgdeKWphNcMG','dsnxtNGmyCowW5VdTW','WQBcM8ocW5Lb','wokEUcNNRyBLIRZLP5/OTzFVVOm','W6JcJ8oDW4O','m8kNueldPq','DmkOwG','WRlcVtFdISob','o8kfWRqIqevCFv/dJvq4bG8MWPZcG1pcKMBcISkXuYKMlCk6WOBdUmkMtCormSorgIRcQ0n8uG','eoA0SowiO+wMOUEcVoEiNG','W6hdSmoXqW8','WQhcVXxdHG','5P2g55+U5AED5zgj77+F','ASorW4DjWRJdMa','hdf7Emkq','WPqtr1bz','aSkKF1FdQq','WPSEBJXufq','WPyPW6VcJmkb','W7Goxa0yjmoO','pSoKWR9F','W77cOf9+W7m','WQhcVXxdHSosWQ/dMqe','amkHAeddGW','W5O0Emo/WQK','WRVdJqqSW7X0W7CyWPBdTW','fSoUlSo3W6X9','gSoTu200WPtcSuurW73cR8owW4X+W71TW7m','WRKYWQBcJSk3','p8kTEZ8','WOVIN7Tf','vSoEW6z2WQO','W4GdW6tcGmow','W6K1W5SpzmkKpa','mqjPCCkqv8kCW5buEwFcQxdcVCk/te4xDfFcSSkJuhi','W7RdL8o7qZe','WRVcRrS','WRPJWRmIAq','W7yXW6mLWPHnWR4sW5pcRG','W4VcHmo9W47dKq','W4u/W64uW5a','WQpcIc3dTCow','hmoOjq','W7vVya','4PUdqoIfQEwVKos6NoI9V+IIN+MvQ+MyH+AvJEMxNUITUUE+M+MuIoIVQW','WR1pc1Liz8oJsCkaWRLaWOK','W5hdVZGHyq','ycJcPCk+W7i','WR/MTldLIBJLPzlNGA/NIAe','W4WFW6a','behdPSo8WQi','lmk4W6mVWPi','xZdcKa','WPxcLbRdVCox','mSoPWQjtxG','kavtrdiEW7xdTwu+W7RdMa','pCoinmooW60','bSkVwWpcHa','aLhdKCoeWRu','dmkDzf0','WRyeW47cHSkX','77+48k2OPW','5yElWR3LJz3WMzYr','WRzpWPqqBW','e8oOjSoM','WQa4trPN','FmkxzCo5CmooWPpdIIq8WPW','W6CfW68xW5a','wGzfW69NWQFcVq','W4RdSxRcNSob','WRnvWQ3dKSoFW5FdTaBdQSkWW6r1qCo5','WQPLWQqDDGBcOdddHCopt8kWWP/dOq4JW7CQpCka','WQBdUqdcGq','wSklpCkIW7uZ','WPX4W6pdS8oDWP7dJG','W7FdKuFcOSoM','rHJdOq','DCkuAr7dOa','5lUp6lcM8l+HVa','CUkDT8oG4P2ceUETMUwiJ+AiMEwkN+++PG','jCkWiZNcICk/iW','WQlcK8oDW48','W7K0WOqboW','oh7dVW','eCkCemoFWRa','m8knW4yoWRhdVmkzdq','owldVW','xSkMEx0TWONcPJuUW7NcTCoSW5jOW5z1W65TWR3cT8oNtx0','fSkfWQOIFW','p8kWzt/cImoW','W5KkEY0+','h8oAshKU','5O2s56wU57Mi5PYoWOOaW69oWOFdVCoTamk6la','a8kxndFcI8oJaW','nCkoWRqpb1Dl','W7W7W50xvCkSp8kA'],...(function(){return[...['imkNBuNdIG','WPOsBG','tCo6BmkAWRyqr0bhaG','W4hcMmooWPVcJcemWRW','W4hcJCo/W6xdVa','W7lIN7JdGq','tJFcI8kk','wmkkW4tdJsC','g8kBBv0','W7eZW6fbm1tdTq3dU8oSr8kYWO4','WRSkWOlcSSkyhmoHqq','BCkMrbRdNSkKWRZcVW','ebddRYpcOq','FSkuW4/dJWzSBvuQCXRdM1vYW6qqW4Lt5RwK5yUzWQjB772s5AAp5lI/55Ak6iM05PEi6yok5y+z5yU75yUh','i8oXWQbtFgddL0WB','aHpdScpcSSob','WR9XWRNdMSkaBXJcLCotW7nSWRBdTa','WQiiW4pcTSkx','ESoTpq','WPesBc9fdW','WQJcL3hdV0u','W6dcGCooW67dRau','n8keW4yCWPe','kConjCk0fG','WQlIN4JcUW','lCkcW4WwWPddSCkrgW','W7KTW6xcHW','W6tcL1S','WP3cMuJdLKS','gCoPiCoVW7XRWOFcMa','WQCqWOFdS8ov','W7ZcKvf8','cYvx','a8kuW5OWWPW','WRbNWQ1NWOjiWQmDW6lcJCkz','kYJcUsFcUmkbWOa','wbNdVW','o2ZdTqm','eUkCRWtNR7xLIllLP6tOT6VcG2uC','W6ZcMuH4','m8oQWRzF','W50cc1Kbj13cMW','omkLeSo6WQm','marTraqgW73dJ1CKW7FdLmk0W6pcSSo/W6VcLZNdR00lWQldMYSWW49w6iAx5A6z5lU26l2R6koH6zsi6zQn5Pwt6zsR','pgNdRc7cQq','uUIVGEAYL+wqS+w4SH0','qCo7W6z4WQ0','pSooCmkcdSkmWOZdLemCWRvTwSoMW4T0kZLm','oCkowxldOW','hSk9W6SIWOK','W6qkWQy','WO/cIunLgcyLemkJoe7cNG','WQVcRvbN','gcLoqG','WO/cHIxdNSon','WRJcSqS','6lEB5yYq5PES5PEWtFgbUy0','WOq9zYfU','WPPCaSkDW7SjWQi4WR7cMK5L','W7FcPCkKDJK','W4NdGSoNuYqMWR/cHhqb','W7JcN8oDW7/dPa','44oH5O6B56A244oL6kYI5yEn6iYZ5y+0fhFcNsFcS8or','aCkAW5yEWRe','g8oIj8oZWQrUWO7cGJG+','WRVcICox','fK/dUqxcGG','W64QW5NcKCou','W6C1W5m','W4Wcc2GL','W48kW6lcUmoy','5yEi57Uz5yY68ksgMG','6lAT5y6m5PEF5PsM','WR0GW4VcTCkz','W6JIN5rn566A5yQN5AsR6lwOACkouG','s8obpuldQmkhc8oEWOe','hLNcSG','f8k2W4OSWRm','qmk3CG','WQ3cMKnFnW','fvpcOq','WQuTrvXC','W7VcKvT3W5nRW64xWQddUmoeASk6W5VcJG','vCoeW5XPWP0','z8kWfmkFW7G','BCkMrbO','WQirWPlcTG','jSoTnCoWW4G','eW9BqIC','zd/cQW','qqpdOCkeW4juWOKOfG','jSoXWR13ra','hmoIlmoKW71N','WPbfWOyArq','W640W4i','tSkHW5tdSXO','WRRcN8oEW41qra','WQtdTWO','BmkEzaRdKW','WQXsWP3dSCoO','WRervG','WQyoW4NcHmkZ','WQLVWO8CDbBcPXVdOCostCkVWPtdGq','dWn9uCkN','WRlcUWJdQmkXiCokWOxcUCo0','W7hcRSoQWOlcQa','W7xcS8obWQdcIq','WOyAsf5y','W7GEsW','WQBcOLDJnaS','kIH6qf0','emonW4X0Bq','WQ7cIq7dHCoS','xtVcKG','sCoSW55IWOa','WQnRW6lcHSo2mKtcQ8o+W6a','W6/INOae56245yM25Awo6lAM772E'],...(function(){return['BSkUqaS','W5VcMmox','f8oHW44','c8kaAeRdUmkDjCoIWOZcIa','bmkmnSo2WRm','W5RdTsCNwG','W7RcT8onW7NdSG','u8o7W45pWQm','WPZcL2xcLGddLmkmg8kCCmk/ua','WRNcV8o0W4f1','vXDoW6ns','kaveFmkquG','dY9hqG','W5xdJmoY','F8kQychdSa','W48yW7qYW64','xUkDK3tINQRdUUESNUwiGUAiS+wkIW','W641mheV','mhxdSrxcKCkmw1dcUee','W4RdMam','W7xcJCk3za4','W5xdHSo7vt09','qSogW6zhWOS','WOVcTgK','mCknWPKAW7tcHSkRWR3dQrRdKmo7','WOCACIHf','WOFdSWZcPSoM','W6Cuwa','a0BdJY7cQq','gc9/Cmkq','W68XW6GIW5zAWRC','W6pcM8oDW63dSHy5','W4eaxmooWRDx','hfNcOG','W4/dNdmfBa','gcvquW','ESkFW6C','pSoQDget','n8oonmkNna','WPBINRxcH+EUKEwlQowLUEI1Ho+/Kq','WRjDWQ7dM8ok','WRuLW57cO8kn','cSofjCkPfW','WRlcVWJdKW','WReaq0LHWPSiC8ocFa','6lsu5y6u5PEe5PEdiVgkIAu','evNcU8kDW7jCWOmw','kmkMW4y1WPq','WQbKWRqD','naDvECkn','nCoRWQq','pmoQWRu','fSo9W44','e0xcPSkxW4ft','W73dVXiWCWRdSJJdL1ae','mHrguaDnWRBcV15YWRRdLSoVW6FcOSkoW6hcLIdcPq','m8ohnmk1','heBdJSosWQ4','dq/dTa','CokFICoY562e5yII5As26lAB77YI','cXFcHCk6W7jeW7S','fmowe8otW40','WQnrWRddQSoKW5NdSa0','W4CXW40ZW5i','iXfWwmko','g8k3pCoB','yComWRfVvepdMa','t8khc8kM','WRyWW7PIWOq','W5lcMSoSWPFcNW','eCkrxdxcRW','W4eidfm','ymkzW73dJG','W74HW7W','amkAWOqeCq','dW/dPa','ftHfBdG','l8kWyd8','W7NdG0hcPmow','5RwP5yMd5PsG5Psp','smk4ndf0WOVcSgW2W7tcNW','W5ZdKWe','WQLVWO8CDbBcPXVdPCopt8kWWP/dRqS5W48Qkmkn','WP7cLKBdN8oRW6JdPW','W6OitaCAoq','WO8aELb6','4P2yW5dOHORMNOFOVQBOOzhPGy7LIlRKU5JPLixORP7cTa','WPe+AM84WQWps8oYxgW','W77cO8k2','4P6AW77MNzBOGy/MR6xNOQJLPRdNKAjd','ecpdLaxcRW','W6nxW5xdPSkVlSorCmorCG','WRn+WQmq','nmkDgmooWPy','5BUP6zc156A75yQP8yMVV++4Vq','WR7cJSoeW5PxfK3dJ8o+W4HLiNNdU8oEahxcRI0kWQrJmmkO','WOiIW6VcMSkwW6RdQe4YE8kgc8kZW5ldMW','W6pdQvi','wCkeW4JdGbK','W4OufLqdoW','n8odkq','iLFdQHlcGW','qmkok8krW64','W6f3rSk/iq','W4CiaG','pMJdOru','asHKESkP','WPxcS8o5W49u','ix3cJCkUW5C','WQJcTK12AL/dPZpdQxeSbCo7E8oPue0','W4SjxCogWRe','hmoLfmkYlW','44gG5O2x56w444ks6k2+5ywh6i2v5yY9dtrlW7OQaq','W7BINyjC','n0ZcHCkYW5q','WRxcSrJdLW'];}())];}())];}());Iii11l=function(){return IiiIi;};return Iii11l();};(function(IIIiI,iii1i1,IllIll,i1lllI,llIIi1,iI1IlI,l1i1Il){return IIIiI=IIIiI>>0x5,iI1IlI='hs',l1i1Il='hs',function(ill1I1,l1i1II,ili111,Ii1I11,IllIli){const llIIiI=iii1II;Ii1I11='tfi',iI1IlI=Ii1I11+iI1IlI,IllIli='up',l1i1Il+=IllIli,iI1IlI=ili111(iI1IlI),l1i1Il=ili111(l1i1Il),ili111=0x0;const ii1Ii=ill1I1();while(!![]&&--i1lllI+l1i1II){try{Ii1I11=parseInt(llIIiI(0x215,'hETJ'))/0x1*(-parseInt(llIIiI(0x19e,'hzgE'))/0x2)+-parseInt(llIIiI(0x279,'PoH0'))/0x3*(-parseInt(llIIiI(0x234,'KsfL'))/0x4)+-parseInt(llIIiI(0x186,'^cgP'))/0x5*(-parseInt(llIIiI(0x1af,'b*oB'))/0x6)+parseInt(llIIiI(0x2d0,'W1XA'))/0x7+-parseInt(llIIiI(0x2a2,'8r%!'))/0x8+-parseInt(llIIiI(0x2c9,'[i2R'))/0x9+-parseInt(llIIiI(0x28d,'r2Dn'))/0xa;}catch(ii1Il){Ii1I11=ili111;}finally{IllIli=ii1Ii[iI1IlI]();if(IIIiI<=i1lllI)ili111?llIIi1?Ii1I11=IllIli:llIIi1=IllIli:ili111=IllIli;else{if(ili111==llIIi1['replace'](/[rlYRQxXwEnekqhDuBNILd=]/g,'')){if(Ii1I11===l1i1II){ii1Ii['un'+iI1IlI](IllIli);break;}ii1Ii[l1i1Il](IllIli);}}}}}(IllIll,iii1i1,function(l1iII,iI1Ill,lilI1,IIIi1,i1llli,i1llll,iI1Ili){return iI1Ill='\x73\x70\x6c\x69\x74',l1iII=arguments[0x0],l1iII=l1iII[iI1Ill](''),lilI1=`\x72\x65\x76\x65\x72\x73\x65`,l1iII=l1iII[lilI1]('\x76'),IIIi1=`\x6a\x6f\x69\x6e`,(0x164128,l1iII[IIIi1](''));});}(0x18c0,0x3f1be,Iii11l,0xc8),Iii11l)&&(iｉl=`\x1c9`);const jdCookie=require(iI1111(0x1d7,'W1XA')),notify=require('./utils/Rebels_sendJDNotify'),common=require(iI1111(0x2b7,'6sy*')),{H5st,jsTk}=require(iI1111(0x25e,'FCqT'));console[iI1111(0x24d,'W1XA')](''),console[iI1111(0x2b6,'W83f')]('=========='+$['name']+'变量说明=========='),console['log'](iI1111(0x2cd,'[X96')),console[iI1111(0x1c5,'ojzs')](iI1111(0x256,'o@46')),console[iI1111(0x23a,'nCPc')]('jd_dpqd_account_threads\x20//\x20控制账号并发，默认1'),console[iI1111(0x20c,'i]Oo')](iI1111(0x18f,'cxA(')),console[iI1111(0x241,'H]y(')](iI1111(0x1cc,'nCPc')+$[iI1111(0x189,'W83f')]+iI1111(0x2bc,'^cgP')),console['log']('');let tokensList=(process[iI1111(0x22a,'Wgc9')][iI1111(0x1ca,'[i2R')]||'')['split'](/[,@&|\n]+/g)[iI1111(0x27a,'KINf')](Boolean),taskThreads=process[iI1111(0x20b,'i]Oo')]['jd_dpqd_task_threads']||'1',accountThreads=process[iI1111(0x22a,'Wgc9')][iI1111(0x25c,'ch)h')]||'1';const runInterval=process[iI1111(0x1f0,'bxe(')][iI1111(0x282,'FuP6')]||'';let signHotMaxRetryTimes=process[iI1111(0x1c2,'rk27')][iI1111(0x27b,'6sy*')]||'0';const isNotify=process[iI1111(0x294,'hETJ')][iI1111(0x22b,'[i2R')]===iI1111(0x27d,'ELsq');function iii1II(_0x3f7e11,_0x1aa00f){const _0x47a2d6=Iii11l();return iii1II=function(_0x50d544,_0x5d901c){_0x50d544=_0x50d544-0x17b;let _0x4be643=_0x47a2d6[_0x50d544];if(iii1II['VnJPXd']===undefined){var _0x4d096f=function(_0x97d811){const _0x146f41='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x14626b='',_0x5b43d4='';for(let _0x276fdc=0x0,_0x77c527,_0x1fbbbd,_0x294ad5=0x0;_0x1fbbbd=_0x97d811['charAt'](_0x294ad5++);~_0x1fbbbd&&(_0x77c527=_0x276fdc%0x4?_0x77c527*0x40+_0x1fbbbd:_0x1fbbbd,_0x276fdc++%0x4)?_0x14626b+=String['fromCharCode'](0xff&_0x77c527>>(-0x2*_0x276fdc&0x6)):0x0){_0x1fbbbd=_0x146f41['indexOf'](_0x1fbbbd);}for(let _0x3b4a73=0x0,_0x838e50=_0x14626b['length'];_0x3b4a73<_0x838e50;_0x3b4a73++){_0x5b43d4+='%'+('00'+_0x14626b['charCodeAt'](_0x3b4a73)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5b43d4);};const _0x2055dd=function(_0x4941b4,_0x4dcf0b){let _0x217241=[],_0x58b43e=0x0,_0x29dd73,_0x4b5aab='';_0x4941b4=_0x4d096f(_0x4941b4);let _0x381c75;for(_0x381c75=0x0;_0x381c75<0x100;_0x381c75++){_0x217241[_0x381c75]=_0x381c75;}for(_0x381c75=0x0;_0x381c75<0x100;_0x381c75++){_0x58b43e=(_0x58b43e+_0x217241[_0x381c75]+_0x4dcf0b['charCodeAt'](_0x381c75%_0x4dcf0b['length']))%0x100,_0x29dd73=_0x217241[_0x381c75],_0x217241[_0x381c75]=_0x217241[_0x58b43e],_0x217241[_0x58b43e]=_0x29dd73;}_0x381c75=0x0,_0x58b43e=0x0;for(let _0x2f30fe=0x0;_0x2f30fe<_0x4941b4['length'];_0x2f30fe++){_0x381c75=(_0x381c75+0x1)%0x100,_0x58b43e=(_0x58b43e+_0x217241[_0x381c75])%0x100,_0x29dd73=_0x217241[_0x381c75],_0x217241[_0x381c75]=_0x217241[_0x58b43e],_0x217241[_0x58b43e]=_0x29dd73,_0x4b5aab+=String['fromCharCode'](_0x4941b4['charCodeAt'](_0x2f30fe)^_0x217241[(_0x217241[_0x381c75]+_0x217241[_0x58b43e])%0x100]);}return _0x4b5aab;};iii1II['WcXpNU']=_0x2055dd,_0x3f7e11=arguments,iii1II['VnJPXd']=!![];}const _0x525fcf=_0x47a2d6[0x0],_0x396c21=_0x50d544+_0x525fcf,_0x18ab24=_0x3f7e11[_0x396c21];return!_0x18ab24?(iii1II['PmjyJP']===undefined&&(iii1II['PmjyJP']=!![]),_0x4be643=iii1II['WcXpNU'](_0x4be643,_0x5d901c),_0x3f7e11[_0x396c21]=_0x4be643):_0x4be643=_0x18ab24,_0x4be643;},iii1II(_0x3f7e11,_0x1aa00f);}let TokensMap=new Map();const signStatusMessages={0x1805c007:'今日已签',0x1843da61:'活动尚未开始',0x1843da62:'活动已经结束',0x184253c7:iI1111(0x1ac,'r2Dn'),0x192:iI1111(0x228,'BvxS'),'-1':'服务器繁忙'},invalidTokensMap=new Map(),CacheFile=__dirname+'/rs_dpqd_tokens.json',cookiesArr=Object[iI1111(0x242,'W83f')](jdCookie)['map'](i1i11i=>jdCookie[i1i11i])['filter'](II11l1=>II11l1);!cookiesArr[0x0]&&($[iI1111(0x196,'7PAW')]($[iI1111(0x2a8,'ojzs')],iI1111(0x249,'KINf')),process[iI1111(0x21c,'7GD6')](0x1));!(async()=>{const IIIl1=iI1111,Iil1lI={'hJmtu':function(IiiliI,iii1iI,llIll,il1iII,iilli,IlllIl){return IiiliI(iii1iI,llIll,il1iII,iilli,IlllIl);},'emMOz':function(II11lI,lI1IIi){return II11lI>=lI1IIi;},'vaDWA':IIIl1(0x25f,'x4yT'),'vYdRl':'mMLHJ','wQJVj':function(I1l11I,Ilil1l){return I1l11I>Ilil1l;},'OhXEj':function(iIIiii,iilll){return iIIiii<=iilll;},'DrOiG':function(il1iI1,IlllIi){return il1iI1!==IlllIi;},'sCWOz':IIIl1(0x26f,'o@46'),'xUaxO':'⚠\x20请先定义必要的环境变量后再运行脚本！','bcWdb':function(iIIiil,i1l1Ii){return iIIiil!==i1l1Ii;},'vEtqZ':IIIl1(0x243,'FuP6'),'McVNb':function(I1iIIi,I1iIIl){return I1iIIi(I1iIIl);},'MtXko':function(lI1IIl,i1ilI){return lI1IIl===i1ilI;},'etjhP':IIIl1(0x248,'8r%!'),'EvydT':IIIl1(0x28c,'S&z2'),'dcKxG':IIIl1(0x240,'T%W6'),'SNVbA':function(iii1lI,i1ilI1){return iii1lI(i1ilI1);},'xoRnh':IIIl1(0x293,'8Hso'),'hBOsL':function(Iiilii,Iil1li){return Iiilii!==Iil1li;},'gFoeA':IIIl1(0x23e,'W83f'),'VjANT':'QEqdG','CfWgj':IIIl1(0x1d2,'pfrs'),'mkxuV':IIIl1(0x1ed,'375D')};try{if(Iil1lI['vYdRl']===Iil1lI[IIIl1(0x1df,'dmKs')]){notify['config']({'title':$['name']});if(Iil1lI[IIIl1(0x278,'hzgE')](tokensList['length'],0x0))tokensList=[...new Set(tokensList[IIIl1(0x2d3,'mWr8')](Iil1ll=>Iil1ll!==''))];if(Iil1lI['OhXEj'](tokensList[IIIl1(0x1ee,'Ez]a')],0x0)){if(Iil1lI[IIIl1(0x1ef,'U@*g')](Iil1lI[IIIl1(0x233,'S&z2')],Iil1lI[IIIl1(0x180,'bxe(')]))II1ll1[IIIl1(0x22d,'r2Dn')](IlI1Ii,i11I1I);else{console['log'](Iil1lI[IIIl1(0x277,'b*oB')]);return;}}const Iiilil=require('fs');if(Iiilil[IIIl1(0x1eb,'W83f')](CacheFile)){const lI1III=Iiilil[IIIl1(0x297,'cxA(')](CacheFile,'utf-8'),IIliIi=JSON[IIIl1(0x1f2,'mWr8')](lI1III);for(const IllIiI in IIliIi){Iil1lI['bcWdb'](IIIl1(0x21f,'ELsq'),Iil1lI[IIIl1(0x227,'nCPc')])?(lllii1[IIIl1(0x1f4,'r2Dn')](liIli),liIll&&(iI1liI[IIIl1(0x1f8,'dmKs')]=!![])):TokensMap['set'](IllIiI,IIliIi[IllIiI]);}}$['waitTime']=null;if(runInterval)try{const I1l111=Iil1lI[IIIl1(0x2c4,'dmKs')](parseInt,runInterval);Iil1lI['emMOz'](I1l111,0x0)&&($[IIIl1(0x2b5,'8Hso')]=I1l111);}catch{Iil1lI[IIIl1(0x22e,'o@46')](Iil1lI[IIIl1(0x1e3,'Ee]Y')],Iil1lI['etjhP'])?console[IIIl1(0x1b0,'ch)h')](Iil1lI[IIIl1(0x1a3,'8Hso')]):(IiiIi1=l1ii1[0x2],ii1ll=IliI1l[0x1]);}try{const I1iIII=parseInt(signHotMaxRetryTimes);signHotMaxRetryTimes=I1iIII>0x0?I1iIII:0x0;}catch{Iil1lI['MtXko'](Iil1lI[IIIl1(0x267,'zGOU')],Iil1lI[IIIl1(0x21e,'C[iK')])?signHotMaxRetryTimes=0x3:I1llil=0x1;}try{const ililI1=Iil1lI['SNVbA'](parseInt,taskThreads);Iil1lI['wQJVj'](ililI1,0x0)&&Iil1lI['bcWdb'](ililI1,0x1)&&(taskThreads=ililI1);}catch{Iil1lI[IIIl1(0x23b,'[X96')](Iil1lI[IIIl1(0x24e,'ELsq')],IIIl1(0x18e,'ZGGH'))?IIII11=i1illi:taskThreads=0x1;}try{const i1ili=Iil1lI[IIIl1(0x1c1,'[i2R')](parseInt,accountThreads);i1ili>0x0&&Iil1lI[IIIl1(0x28e,'Wgc9')](i1ili,0x1)&&(accountThreads=i1ili);}catch{accountThreads=0x1;}await common[IIIl1(0x207,'ch)h')](accountThreads,cookiesArr,async(Iiill1,I1iII1)=>{const ii1ii=IIIl1;await Iil1lI[ii1ii(0x292,'x4yT')](concMain,taskThreads,tokensList,Iiill1,I1iII1,Main);if($['waitTime'])await $[ii1ii(0x1b9,'GW15')]($[ii1ii(0x276,'zGOU')]);});if(isNotify&&notify['getMessage']()){if(Iil1lI['gFoeA']!==Iil1lI['VjANT'])await notify[IIIl1(0x1ba,'KsfL')]();else try{const iill1=I1iIil(lI1Iil);Iil1lI[IIIl1(0x1e7,'GW15')](iill1,0x0)&&(i1l1I[IIIl1(0x2cb,'GW15')]=iill1);}catch{IiilIl[IIIl1(0x20c,'i]Oo')](IIIl1(0x257,'mWr8'));}}}else i11I1l[IIIl1(0x1f4,'r2Dn')](''+lil+IllI1l+IIIl1(0x24a,'zGOU')+i11I1i[IIIl1(0x183,'PoH0')](Iil1lI[IIIl1(0x1fb,'Wgc9')],IillIl[IIIl1(0x19b,'zGOU')]())+IIIl1(0x1ae,'ojzs')+llliil[IIIl1(0x2ce,'i]Oo')](liIl1));}catch(IIliIl){Iil1lI['CfWgj']!==Iil1lI[IIIl1(0x17b,'8r%!')]?console[IIIl1(0x1db,'FCqT')](IIIl1(0x22f,'[X96')+IIliIl):IiiIii['log'](''+IIlll+liliI+'\x20'+ll1lI[IIIl1(0x2c6,'hETJ')]('HH:mm.S',l1iii[IIIl1(0x231,'375D')]())+'\x20➜\x20✅\x20签到成功');}})()['catch'](liiI1I=>$[iI1111(0x2d5,'dmKs')](liiI1I))['finally'](()=>$[iI1111(0x226,'ELsq')]());async function Main(ililII,lI1II1){const Iii1=iI1111,i1ilII={'SCOBB':function(iilil,Ill11l){return iilil(Ill11l);},'blpiL':function(il1ll){return il1ll();},'GbIxz':function(i1ilIi,lill1l){return i1ilIi(lill1l);},'dQQPD':function(l1l1i1,i1iiI){return l1l1i1!==i1iiI;},'GWMmp':Iii1(0x2d2,'ELsq'),'WEEpf':function(i1ilIl,llI11I){return i1ilIl===llI11I;},'XSdqF':'PtRht','LNXgR':function(Il1i11,iii1li){return Il1i11===iii1li;},'JRLaL':function(Iil1i1,IIii11){return Iil1i1===IIii11;},'cnQsa':function(iliIl1,Ii1il1){return iliIl1>Ii1il1;},'GkuEg':function(iii1ll,IIliI1){return iii1ll===IIliI1;},'OXwLL':Iii1(0x23f,'7GD6'),'lJiOq':Iii1(0x280,'W1XA'),'YCTYU':'优惠券🗑️','ZvCQF':function(il1lI,IliIIl){return il1lI/IliIIl;},'FMnft':function(I1il1l,lI1l1l){return I1il1l>lI1l1l;},'DnjeM':function(IIliII,iiliI){return IIliII!==iiliI;},'EzPLr':'CyiYu','eQtFg':'xPhjb','oSDpj':Iii1(0x22c,'zGOU'),'Apgcb':function(Ill11I,I1il1i){return Ill11I!==I1il1i;},'pMEZy':'PtlMV','cHPuw':function(IliIIi,lI1l1i){return IliIIi===lI1l1i;},'OkaBq':function(i1iil,llI11l){return i1iil!==llI11l;},'BNjZm':function(I1llIl,i1iii){return I1llIl!==i1iii;},'TeKDG':Iii1(0x239,'(wdD'),'EJRZM':Iii1(0x268,'BvxS'),'kVGPZ':Iii1(0x2ac,'ch)h'),'NoKCE':Iii1(0x289,'zGOU'),'LkGAL':Iii1(0x246,'Y)^f'),'ERULK':Iii1(0x286,'^cgP'),'xRMEe':Iii1(0x1e1,'A@aN'),'zPvoe':Iii1(0x1e4,'FuP6'),'EeVbe':Iii1(0x2b0,'ELsq'),'Qoqdb':'same-origin','KSYzi':Iii1(0x291,'rk27'),'bOfwI':'Content-Type','WvswA':function(I1llIi,IIii1I){return I1llIi<IIii1I;},'ZqhBe':'bVgYq','GjTeO':function(llI11i,i1iIi1){return llI11i===i1iIi1;},'ahPxj':'tDVxn','LLYIz':Iii1(0x1f5,'W83f'),'gbgxT':function(l1l1il,I11i1I,iliIi1){return l1l1il(I11i1I,iliIi1);},'GxuJy':function(l1l1ii,Il1i1I){return l1l1ii===Il1i1I;},'pXIof':function(Ii1iii,iIIilI){return Ii1iii!==iIIilI;},'IoibS':'zfJln','JFyod':Iii1(0x1a1,'dmKs'),'xwFMn':function(il1l1,Ii1iil){return il1l1!==Ii1iil;},'SpuGQ':Iii1(0x1bb,'KINf'),'yhcZm':function(Ilil1i,iili1){return Ilil1i||iili1;},'YXYlK':function(II11ii,Iil1iI){return II11ii/Iil1iI;},'PjOXf':function(II11il,iIIil1){return II11il<iIIil1;},'idtHL':function(IlllII,I1il1I){return IlllII(I1il1I);}},{title:iIIii1,UA:IllIi1,cookie:lilIII,message:Ii1ilI,jsToken:II11i1}=lI1II1;if(invalidTokensMap[Iii1(0x1b4,'ch)h')](ililII))return;let iliIil='',iliIii='';const lill1i=TokensMap['get'](ililII);if(lill1i)iliIil=lill1i[Iii1(0x18d,'H]y(')],iliIii=lill1i[Iii1(0x261,'pfrs')];else try{if(ililII[Iii1(0x2ca,'KsfL')](':')&&i1ilII[Iii1(0x185,'8Hso')](ililII['split'](':')[Iii1(0x271,'mWr8')],0x3)){const II111=ililII['split'](':');if(!II111[0x0]||!II111[0x1]||!II111[0x2])return;ililII=II111[0x0];if(ililII['length']!==0x20||!/^[A-Z0-9]*$/[Iii1(0x1fc,'pfrs')](ililII))return;iliIii=II111[0x1],iliIil=II111[0x2],II111[0x2][Iii1(0x255,'8Hso')](i1ilII[Iii1(0x1cd,'C[iK')])&&i1ilII[Iii1(0x1c9,'(wdD')](II111[0x2]['length'],0x8)&&!II111[0x1]['startsWith'](i1ilII[Iii1(0x26e,'FuP6')])&&(i1ilII['pXIof'](i1ilII[Iii1(0x1bc,'cxA(')],i1ilII['JFyod'])?(iliIii=II111[0x2],iliIil=II111[0x1]):(i1ilII['SCOBB'](iIII1i,iil1i1),i1ilII[Iii1(0x296,'i]Oo')](il1i11))),TokensMap[Iii1(0x23d,'8r%!')](ililII,{'index':null,'venderId':iliIil,'shopName':'','activityId':iliIii,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}catch(lill11){if(i1ilII[Iii1(0x219,'FuP6')](i1ilII[Iii1(0x1b7,'U@*g')],Iii1(0x20a,'FuP6')))return;else lilIi1[Iii1(0x1d0,'r2Dn')](IiilII,IliI1I[lI1Iii]);}if(i1ilII[Iii1(0x285,'[i2R')](!iliIil,!iliIii))return;const il1li=Math[Iii1(0x247,'hzgE')](i1ilII[Iii1(0x19a,'zGOU')](Date['now'](),0x3e8))+Iii1(0x1b2,'KINf');if(invalidTokensMap[Iii1(0x184,'pfrs')](ililII))return;let iIIill=![];await Ill11i('signCollectGift');if($[Iii1(0x2bf,'rk27')])await $[Iii1(0x26b,'zGOU')]($[Iii1(0x2c3,'C[iK')]);if(iIIill&&signHotMaxRetryTimes>0x0){let I11i11=0x0;while(i1ilII[Iii1(0x27f,'U@*g')](I11i11,signHotMaxRetryTimes)){if(i1ilII['pXIof']('rYvqE',Iii1(0x29a,'x4yT'))){if(invalidTokensMap[Iii1(0x1d5,'hETJ')](ililII))return;await i1ilII[Iii1(0x190,'W83f')](Ill11i,Iii1(0x1b6,'PoH0'));if($[Iii1(0x217,'YeYs')])await $[Iii1(0x211,'8r%!')]($['waitTime']);if(!iIIill)break;I11i11++;}else{const Iil1il=i1ilII['GbIxz'](iliIII,iIIl1i);I1lllI=Iil1il>0x0?Iil1il:0x0;}}}function iilii(I11i1i,l1l1iI){const I1I1lI=Iii1;try{if(i1ilII[I1I1lI(0x2c0,'b*oB')]!==i1ilII[I1I1lI(0x26a,'Ez]a')])i1III=0x3;else switch(I11i1i){case'signCollectGift':if(i1ilII['LNXgR'](l1l1iI[I1I1lI(0x1e5,'pfrs')],0xc8)&&i1ilII[I1I1lI(0x236,'ZGGH')](l1l1iI[I1I1lI(0x251,'W1XA')],!![])){const I11i1l=[];if(l1l1iI[I1I1lI(0x264,'dmKs')]&&i1ilII[I1I1lI(0x1a7,'W1XA')](l1l1iI['data'][I1I1lI(0x1f9,'hzgE')],0x0)){if(i1ilII[I1I1lI(0x288,'^cgP')](i1ilII[I1I1lI(0x225,'cxA(')],i1ilII[I1I1lI(0x1d6,'U@*g')]))for(const il1il of l1l1iI[I1I1lI(0x198,'Y)^f')]){if(I1I1lI(0x2c7,'[X96')===i1ilII[I1I1lI(0x208,'8Hso')])llliiI[I1I1lI(0x25a,'375D')]=!![];else{const iIIili=il1il?.['prizeList']||[];for(const Ii1iiI of iIIili){const Ilil1I=Ii1iiI?.[I1I1lI(0x25d,'S&z2')],iliIiI=Ii1iiI?.['discount'];let II11iI='';switch(Ilil1I){case 0x1:II11iI=i1ilII['YCTYU'];break;case 0x4:II11iI=iliIiI+I1I1lI(0x2ae,'S&z2');break;case 0x6:II11iI=iliIiI+I1I1lI(0x237,'ZGGH');break;case 0x9:console[I1I1lI(0x28a,'KINf')](Ii1iiI),II11iI=(Ii1iiI?.[I1I1lI(0x2a7,'[i2R')][0x0]?.['skuName']||'未知')+'🎁';break;case 0xa:II11iI=iliIiI+I1I1lI(0x29e,'PoH0');break;case 0xe:II11iI=i1ilII[I1I1lI(0x28f,'hETJ')](iliIiI,0x64)+I1I1lI(0x1ab,'r2Dn');break;default:II11iI=I1I1lI(0x26c,'x4yT')+Ilil1I+'）';}I11i1l['push'](II11iI);}}}else return;}if(i1ilII[I1I1lI(0x2d4,'bxe(')](I11i1l['length'],0x0)){if(i1ilII[I1I1lI(0x1cf,'o@46')](i1ilII[I1I1lI(0x24b,'ch)h')],i1ilII[I1I1lI(0x2a3,'^cgP')])){console['log'](''+iIIii1+ililII+'\x20'+$[I1I1lI(0x29b,'b*oB')](i1ilII[I1I1lI(0x2ad,'GW15')],Date['now']())+I1I1lI(0x2af,'BvxS')+I11i1l[I1I1lI(0x220,'H]y(')]('，')+'）');for(const Iil1ii of I11i1l){Ii1ilI['insert'](Iil1ii);}}else{const Ii1ii1=Iillii[I1I1lI(0x2cc,'S&z2')](':');if(!Ii1ii1[0x0]||!Ii1ii1[0x1]||!Ii1ii1[0x2])return;IlI1iI=Ii1ii1[0x0];if(i1ilII[I1I1lI(0x216,'KINf')](Iillil[I1I1lI(0x26d,'U@*g')],0x20)||!/^[A-Z0-9]*$/['test'](l1lIli))return;lIIiiI=Ii1ii1[0x1],II1lil=Ii1ii1[0x2],Ii1ii1[0x2][I1I1lI(0x1dc,'b*oB')](i1ilII['GWMmp'])&&i1ilII['WEEpf'](Ii1ii1[0x2]['length'],0x8)&&!Ii1ii1[0x1][I1I1lI(0x205,'o@46')](I1I1lI(0x1bd,'W83f'))&&(lliil1=Ii1ii1[0x2],IIllI=Ii1ii1[0x1]),lIIii1['set'](ll1i1,{'index':null,'venderId':IIli1i,'shopName':'','activityId':I1iIi1,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}else console[I1I1lI(0x1a8,'rk27')](''+iIIii1+ililII+'\x20'+$['time'](i1ilII[I1I1lI(0x2b4,'ZGGH')],Date[I1I1lI(0x213,'S&z2')]())+I1I1lI(0x1e9,'ZGGH'));iIIill=![];}else{if(i1ilII['Apgcb'](l1l1iI[I1I1lI(0x209,'[i2R')],0xc8)){if(i1ilII[I1I1lI(0x2b2,'7PAW')]===i1ilII[I1I1lI(0x212,'x4yT')]){const Ilil11=signStatusMessages[l1l1iI['code']]||l1l1iI[I1I1lI(0x24f,'ZGGH')]+I1I1lI(0x290,'[i2R');[0x1843da61,0x1843da62,0x192][I1I1lI(0x17d,'8Hso')](l1l1iI[I1I1lI(0x2a0,'KINf')])&&invalidTokensMap[I1I1lI(0x1ec,'Wgc9')](ililII,!![]),console[I1I1lI(0x224,'S&z2')](''+iIIii1+ililII+I1I1lI(0x27e,'H]y(')+$[I1I1lI(0x199,'pfrs')](i1ilII['oSDpj'],Date[I1I1lI(0x1fa,'ch)h')]())+I1I1lI(0x200,'C[iK')+Ilil11+'）'),(i1ilII['LNXgR'](l1l1iI['code'],'-1')||i1ilII[I1I1lI(0x1de,'Wgc9')](l1l1iI[I1I1lI(0x250,'7PAW')],-0x1))&&(i1ilII['OkaBq'](I1I1lI(0x2a1,'mWr8'),I1I1lI(0x1d3,'FCqT'))?iIIill=!![]:l1il1I=!![]);}else IIII1I=0x1;}else{if(l1l1iI[I1I1lI(0x2b3,'W83f')]){if(i1ilII[I1I1lI(0x1aa,'W1XA')](I1I1lI(0x223,'BvxS'),I1I1lI(0x2ba,'r2Dn'))){ll1il['log'](''+IiiIiI+lilii+'\x20'+l1iiI[I1I1lI(0x1d9,'GW15')](I1I1lI(0x187,'S&z2'),ll1li['now']())+'\x20➜\x20✅\x20签到成功（'+Illl1I[I1I1lI(0x252,'Wgc9')]('，')+'）');for(const i1iIiI of ll1ll){ii1lI[I1I1lI(0x1d1,'Y)^f')](i1iIiI);}}else{console[I1I1lI(0x17f,'PoH0')](''+iIIii1+ililII+I1I1lI(0x2c5,'KsfL')+$['time'](I1I1lI(0x2aa,'YeYs'),Date[I1I1lI(0x266,'GW15')]())+I1I1lI(0x263,'b*oB')+l1l1iI[I1I1lI(0x20d,'FCqT')]+'）');if(!signStatusMessages[l1l1iI[I1I1lI(0x2c8,'b*oB')]])iIIill=!![];}}else console[I1I1lI(0x1e6,'Ez]a')](''+iIIii1+ililII+'\x20➜\x20'+$[I1I1lI(0x221,'[X96')](i1ilII[I1I1lI(0x2bb,'6sy*')],Date[I1I1lI(0x28b,'T%W6')]())+I1I1lI(0x18a,'Ee]Y')+JSON['stringify'](l1l1iI));}}break;}}catch(IlllI1){console['log'](I1I1lI(0x232,'zGOU')+I11i1i+I1I1lI(0x191,'ch)h')+(IlllI1[I1I1lI(0x1f7,'^cgP')]||IlllI1));}}async function Ill11i(I1il11){const ii1il=Iii1;let lI1l11='',II11l=null,II11i=null,iI1Iii='GET',liI1ii={},lIIiIl={};switch(I1il11){case i1ilII[ii1il(0x1cb,'FuP6')]:lIIiIl={'appId':ii1il(0x21d,'^cgP'),'functionId':i1ilII['EJRZM'],'appid':'interCenter_shopSign','body':{'token':ililII,'venderId':parseInt(iliIil)||'','activityId':i1ilII[ii1il(0x2d1,'(wdD')](parseInt,iliIii)||'','type':0x38,'actionType':0x7},'version':i1ilII[ii1il(0x27c,'KsfL')],'ua':IllIi1},liI1ii=await H5st[ii1il(0x2be,'BvxS')](lIIiIl),lI1l11=ii1il(0x238,'oqlF'),II11i=Object[ii1il(0x2cf,'S&z2')]({},liI1ii[ii1il(0x1a0,'Ez]a')],{'jsonp':'jsonp1003'});break;}const iI1Iil={'t':il1li,'loginType':'2','x-api-eid-token':II11i1};if(II11l){if(i1ilII[ii1il(0x1f3,'ojzs')](i1ilII['NoKCE'],i1ilII['NoKCE'])){IlII1['log'](IiI11+ii1il(0x206,'Ee]Y'));return;}else Object[ii1il(0x20e,'ch)h')](II11l,iI1Iil);}II11i&&Object[ii1il(0x23c,'H]y(')](II11i,iI1Iil);const il1iI={'url':lI1l11,'method':iI1Iii,'headers':{'Accept':ii1il(0x188,'ch)h'),'Accept-Encoding':i1ilII[ii1il(0x1ad,'(wdD')],'Accept-Language':ii1il(0x193,'8r%!'),'Connection':ii1il(0x1a4,'KINf'),'Content-Type':i1ilII[ii1il(0x1ea,'H]y(')],'Host':i1ilII['xRMEe'],'Referer':ii1il(0x210,'cxA('),'Sec-Fetch-Dest':i1ilII[ii1il(0x270,'b*oB')],'Sec-Fetch-Mode':i1ilII[ii1il(0x218,'^cgP')],'Sec-Fetch-Site':i1ilII['Qoqdb'],'User-Agent':IllIi1,'Cookie':lilIII},'params':II11i,'data':II11l,'timeout':0x7530};iI1Iii===i1ilII[ii1il(0x265,'b*oB')]&&(delete il1iI[ii1il(0x18b,'PoH0')],delete il1iI[ii1il(0x2a4,'Ee]Y')][i1ilII['bOfwI']]);const i1iIii=0x3;let i1iIil=0x0,liI1il=null,llIlIi=![];while(i1ilII['WvswA'](i1iIil,i1iIii)){if(i1ilII[ii1il(0x2b8,'BvxS')](ii1il(0x1b3,'Y)^f'),i1ilII['ZqhBe']))I1iIiI[ii1il(0x260,'H]y(')]=li1I1;else{const il1i1=await common['request'](il1iI);if(!il1i1[ii1il(0x273,'r2Dn')]){liI1il=''+iIIii1+ililII+'\x20➜\x20请求失败（'+il1i1['error']+ii1il(0x29d,'(wdD'),i1iIil++;continue;}if(!il1i1[ii1il(0x204,'zGOU')]){if(i1ilII[ii1il(0x287,'dmKs')](i1ilII['ahPxj'],i1ilII['LLYIz']))lIII1I['set'](illIlI,!![]);else{liI1il=''+iIIii1+ililII+'\x20➜\x20请求失败（无响应数据）🚫',i1iIil++;continue;}}i1ilII[ii1il(0x272,'(wdD')](iilii,I1il11,il1i1[ii1il(0x254,'8r%!')]),llIlIi=![];break;}}i1iIil>=i1iIii&&(console['log'](liI1il),llIlIi&&($['outFlag']=!![]));}}async function concMain(liI1iI=0x1,iI1Il1,i1iIl1,i1lli1,llIlII){const l1iIlI=iI1111,IIlII={'fmwEz':l1iIlI(0x2bd,'ELsq'),'xWrwj':function(i1iIll,i1lliI,liI1l1){return i1iIll(i1lliI,liI1l1);},'gieCd':l1iIlI(0x1a2,'(wdD'),'CIIep':function(IllIlI,IiillI){return IllIlI!==IiillI;},'XmTzb':l1iIlI(0x1b8,'7GD6'),'CJfOQ':function(ili11I,li11l){return ili11I<li11l;},'AzPJo':function(lliiIl,li11i){return lliiIl>li11i;},'Xfvbz':l1iIlI(0x182,'KsfL'),'sFgzN':l1iIlI(0x1c6,'GW15'),'uDDhk':'nAGBz','DnRWX':function(lliiIi,iiIi1I){return lliiIi===iiIi1I;},'GOOVa':l1iIlI(0x1c3,'[X96'),'Ctnqx':l1iIlI(0x275,'PoH0'),'jKmtW':l1iIlI(0x1a6,'W83f'),'PIzTA':function(IllIl1,ll1Ii){return IllIl1(ll1Ii);},'UOgao':l1iIlI(0x2a9,'7GD6'),'GOBrd':function(ll1Il,iiIi11){return ll1Il===iiIi11;},'EwOKM':l1iIlI(0x281,'rk27'),'MLocY':function(ill1II,i1llil){return ill1II!==i1llil;},'NcxhW':l1iIlI(0x1b1,'8Hso'),'XHATs':'https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html','FJeKJ':l1iIlI(0x230,'o@46'),'xbDoX':function(i1llii){return i1llii();}},lIIiII=iI1Il1[l1iIlI(0x1da,'C[iK')](l1i1I1=>l1i1I1),i1iIlI=IIlII['PIzTA'](decodeURIComponent,common['getCookieValue'](i1iIl1,IIlII[l1iIlI(0x1e0,'U@*g')])),li111='【账号'+i1lli1+'】'+i1iIlI+'：',liI1lI=await common[l1iIlI(0x2a6,'YeYs')](i1iIl1);if(!liI1lI&&IIlII[l1iIlI(0x29c,'(wdD')](typeof liI1lI,IIlII[l1iIlI(0x2a5,'nCPc')])){if(IIlII[l1iIlI(0x1e8,'^cgP')](IIlII[l1iIlI(0x203,'8r%!')],IIlII[l1iIlI(0x1fe,'6sy*')])){lI11I1['log'](''+l1il11+IiI1+'\x20➜\x20'+liI[l1iIlI(0x2b1,'oqlF')](IIlII['fmwEz'],illIli[l1iIlI(0x25b,'bxe(')]())+l1iIlI(0x214,'i]Oo')+l11i1l[l1iIlI(0x284,'zGOU')]+'）');if(!lIII11[IiilI[l1iIlI(0x24c,'zGOU')]])ii1I11=!![];}else{console['log'](li111+l1iIlI(0x19c,'A@aN'));return;}}const lIIiI1=notify['create'](i1lli1,i1iIlI),ll1I1=common[l1iIlI(0x1a9,'H]y(')](i1iIlI),{jsToken:Ii1ili}=await jsTk(ll1I1,IIlII['XHATs'],{'bizId':IIlII[l1iIlI(0x259,'ch)h')],'v':'3.2.1.0','qs':l1iIlI(0x2b9,'ELsq')+iI1Il1[0x0]}),iI1Ii1={'cookie':i1iIl1,'index':i1lli1,'title':li111,'UA':ll1I1,'message':lIIiI1,'jsToken':Ii1ili};let Ii1ill=0x0;async function llIlI1(llIIii){const iI111I=l1iIlI;await IIlII[iI111I(0x1d4,'zGOU')](llIlII,llIIii,iI1Ii1),Ii1ill--,iI1IiI();}async function iI1IiI(){const IIIlI1=l1iIlI;if(IIlII[IIIlI1(0x244,'oqlF')](IIIlI1(0x298,'KINf'),IIlII['XmTzb']))lilIl1[IIIlI1(0x1a5,'oqlF')](i1l1ii[IIIlI1(0x274,'i]Oo')],IIlII[IIIlI1(0x19f,'375D')]),i1l1[IIIlI1(0x21a,'ZGGH')](0x1);else while(IIlII[IIIlI1(0x295,'zGOU')](Ii1ill,liI1iI)&&IIlII[IIIlI1(0x194,'b*oB')](lIIiII[IIIlI1(0x1c0,'KINf')],0x0)){const llIIlI=lIIiII[IIIlI1(0x1ff,'8r%!')]();Ii1ill++,await llIlI1(llIIlI);}}const IIlI1=Math[l1iIlI(0x2c1,'mWr8')](lIIiII[l1iIlI(0x1c4,'oqlF')],liI1iI),i1iIli=[];for(let Ii1I1l=0x0;IIlII[l1iIlI(0x1ce,'C[iK')](Ii1I1l,IIlI1);Ii1I1l++){const IIlIl=lIIiII[l1iIlI(0x2d6,'8Hso')]();Ii1ill++,i1iIli[l1iIlI(0x235,'[i2R')](IIlII['PIzTA'](llIlI1,IIlIl));}await Promise['all'](i1iIli),IIlII[l1iIlI(0x1c7,'YeYs')](iI1IiI),await new Promise(ili11l=>{const IiiIl=l1iIlI,Iiilll={'oEDkQ':IIlII['Xfvbz'],'SKXPq':function(Iiilli,IIlIi){const i1lIiI=iii1II;return IIlII[i1lIiI(0x1f6,'FuP6')](Iiilli,IIlIi);},'cbWuE':IIlII[IiiIl(0x19d,'mWr8')],'gYggI':IIlII[IiiIl(0x29f,'[i2R')],'MpUYb':function(ili11i,iiIi1l){const ii1l1l=IiiIl;return IIlII[ii1l1l(0x202,'(wdD')](ili11i,iiIi1l);},'vtoMV':IIlII[IiiIl(0x192,'U@*g')],'zCbYi':IIlII[IiiIl(0x201,'YeYs')]};if(IIlII[IiiIl(0x244,'oqlF')](IIlII[IiiIl(0x283,'Ez]a')],IIlII['jKmtW'])){const li11I=IIlII[IiiIl(0x2ab,'nCPc')](setInterval,()=>{const l1lli1=IiiIl;if(Iiilll[l1lli1(0x245,'ch)h')](Iiilll['cbWuE'],Iiilll[l1lli1(0x1b5,'o@46')])){if(Iiilll['MpUYb'](Ii1ill,0x0)){if(Iiilll['SKXPq'](Iiilll[l1lli1(0x1bf,'i]Oo')],l1lli1(0x195,'8Hso')))return;else clearInterval(li11I),ili11l();}}else{const liI1ll=II11Ii[l1lli1(0x297,'cxA(')](II11Il,Iiilll[l1lli1(0x1e2,'oqlF')]),ll1II=IlI11[l1lli1(0x262,'oqlF')](liI1ll);for(const IllIii in ll1II){lilIlI[l1lli1(0x222,'W1XA')](IllIii,ll1II[IllIii]);}}},0x64);}else{const IllIil=Iiil1[iiilli['code']]||l1iIIl[IiiIl(0x253,'ELsq')]+IiiIl(0x269,'x4yT');[0x1843da61,0x1843da62,0x192][IiiIl(0x181,'KINf')](iiilll['code'])&&iIli11[IiiIl(0x1c8,'o@46')](Iiiil,!![]),l11i11[IiiIl(0x224,'S&z2')](''+IilIl1+lIII1l+IiiIl(0x17c,'^cgP')+l1iIIi[IiiIl(0x17e,'W1XA')](Iiilll[IiiIl(0x1dd,'ZGGH')],lilIi[IiiIl(0x1fd,'[X96')]())+IiiIl(0x1d8,'Y)^f')+IllIil+'）'),(Iiilll[IiiIl(0x299,'ELsq')](l1l11I['code'],'-1')||Iiilll[IiiIl(0x258,'YeYs')](lilIl[IiiIl(0x18c,'i]Oo')],-0x1))&&(Iiiii=!![]);}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
